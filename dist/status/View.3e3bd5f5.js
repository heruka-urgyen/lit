parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Olr7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=i(require("react")),t=i(require("prop-types")),r=require("ink"),l=i(require("./Selector"));function i(e){return e&&e.__esModule?e:{default:e}}const s=(e,t,r)=>{if(e.length<=t)return{items:e,selected:r};const l=t/2-t/2%1;return r+l>=e.length?{items:e.slice(-t),selected:t-e.length+r}:r-l<0?{items:e.slice(0,t),selected:r}:{items:e.slice(r-l,r+l),selected:l}};function u({data:t,selected:i,maxHeight:u}){const{items:a,selected:c}=s(t,u,i);return e.default.createElement(r.Box,{maxHeight:u,flexDirection:"column"},a.map((t,i)=>e.default.createElement(r.Text,{key:t,wrap:"truncate"},e.default.createElement(l.default,{isSelected:c===i,el:t}))))}u.propTypes={data:t.default.arrayOf(t.default.string).isRequired,selected:t.default.number.isRequired,maxHeight:t.default.number.isRequired};
},{"./Selector":"SL2S"}],"FOZT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateLog=exports.commitAmend=exports.commitFixup=exports.commit=exports.runCommand=void 0;var t=i(require("strip-ansi")),s=require("../../utils"),e=require("../../git-utils");function i(t){return t&&t.__esModule?t:{default:t}}const o=(t,i,o)=>{const a=i.split(" ").slice(-1)[0].replace("\r","");(0,e.runCmd)({params:[t,a]}).on("close",()=>{(0,e.gitStatus)().on("data",t=>{o((0,s.statusStrToList)(t))})})};exports.runCommand=o;const a=async t=>{(await(0,e.gitDiff)()).length>0&&(process.stdin.pause(),await(0,e.gitCommit)(),t())};exports.commit=a;const r=async(s,i)=>{const o=(0,t.default)(s).match(/[^\s]+/)[0];process.stdin.pause(),await(0,e.gitCommitFixup)(o),i()};exports.commitFixup=r;const n=async t=>{(await(0,e.gitDiff)()).length>0&&(process.stdin.pause(),await(0,e.gitCommitAmend)(),t())};exports.commitAmend=n;const c=async t=>{t((await(0,e.gitLog)()).split("\n").slice(0,-1))};exports.updateLog=c;
},{"../../utils":"Z2gG","../../git-utils":"d6PF"}],"dWZ4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var e=l(require("react")),t=require("ink"),r=i(require("ink-use-stdout-dimensions")),n=i(require("../../components/Selectable")),o=require("../../git-utils"),u=require("./utils");function i(e){return e&&e.__esModule?e:{default:e}}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}const s=e=>t=>(t+1)%e.length,d=e=>t=>t>0?t-1:e.length-1,c=e=>async(t,r)=>{const{exit:n,mode:i,selectItem:a,setMode:l,lines:c,setLines:f,selected:m,log:p,setLog:g}=e;if("q"===t&&n(),"add"===i&&(("j"===t||r.downArrow)&&a(s(c)),("k"===t||r.upArrow)&&a(d(c)),"s"===t&&(0,u.runCommand)("add",c[m],f),"r"===t&&(0,u.runCommand)("reset",c[m],f),"o"===t&&((0,u.runCommand)("checkout",c[m],f),1===c.length?n():a(s(c))),"c"===t&&(0,u.commit)(n),"a"===t&&(0,u.commitAmend)(n),"f"===t)){(await(0,o.gitDiff)()).length>0&&((0,u.updateLog)(g),l("log"),a(0))}"log"===i&&(r.return&&(0,u.commitFixup)(p[m],n),("j"===t||r.downArrow)&&a(s(p)),("k"===t||r.upArrow)&&a(d(p)))};function f({initialLines:o}){const{exit:u}=(0,t.useApp)(),[i,a]=(0,e.useState)("add"),[l,s]=(0,e.useState)(0),[d,f]=(0,e.useState)([]),[m,p]=(0,e.useState)(o),[g,h]=(0,r.default)();if((0,t.useInput)(c({exit:u,mode:i,selectItem:s,setMode:a,lines:m,setLines:p,selected:l,log:d,setLog:f})),"log"===i){const t=h?h-5:d.length;return e.default.createElement(n.default,{maxHeight:t,data:d,selected:l})}if("add"===i){const r=h?h-5:m.length;return e.default.createElement(t.Box,null,e.default.createElement(n.default,{maxHeight:r,data:m,selected:l}),e.default.createElement(t.Box,{height:1}))}}
},{"../../components/Selectable":"Olr7","../../git-utils":"d6PF","./utils":"FOZT"}]},{},[], null)
//# sourceMappingURL=/View.3e3bd5f5.js.map